[{
	"name": "global.loadJSON (local)",
	"cases": [{
		"input": "a {{loadJSON('../testresources/json/DOESNT_EXIST.json').isUndefined()}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('../testresources/json/test_for_json_array.json').toJSON()}} b",
		"expectedResult": "a [1,2,3] b"
	}, {
		"input": "a {{loadJSON('../testresources/json/test_for_json_invalid.json').toJSON()}} b",
		"expectedResult": "a null b"
	}, {
		"input": "a {{loadJSON('../testresources/json/test_for_json_string.json').toJSON()}} b",
		"expectedResult": "a \"test string\" b"
	}, {
		"input": "a {{loadJSON('../testresources/json/test_for_json.json').toJSON()}} b",
		"expectedResult": "a {\"key\":123} b"
	}, {
		"input": "a {{loadJSON('../testresources/json/test_for_json.jsonp').isUndefined()}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('../testresources/json/test_for_json_array.json', true).toJSON()}} b",
		"expectedResult": "a [1,2,3] b"
	}, {
		"input": "a {{loadJSON('../testresources/json/test_for_json_invalid.json', true).toJSON()}} b",
		"expectedResult": "a null b"
	}, {
		"input": "a {{loadJSON('../testresources/json/test_for_json_string.json', true).toJSON()}} b",
		"expectedResult": "a \"test string\" b"
	}, {
		"input": "a {{loadJSON('../testresources/json/test_for_json.json', true).toJSON()}} b",
		"expectedResult": "a {\"key\":123} b"
	}, {
		"ignore": ["java"],
		"comment": "Ignored until HSTJ-28 will be implemented",
		"input": "a {{loadJSON('../testresources/json/test_for_json.jsonp', true).toJSON()}} b",
		"expectedResult": "a [1,2,3] b"
	}, {
		"ignore": ["java"],
		"comment": "Ignored until HSTJ-28 will be implemented",
		"input": "a {{loadJSON('../testresources/json/test_for_json2.jsonp', true).toJSON()}} b",
		"expectedResult": "a [1,2,3] b"
	}]
}, {
	"name": "global.loadJSON (remote: request method)",
	"comment": "make sure that the request method is passed correctly",
	"cases": [{
		"input": "a {{loadJSON('http://127.0.0.1:4442/').method}} b",
		"expectedResult": "a GET b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'get']).method}} b",
		"expectedResult": "a GET b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'post']).method}} b",
		"expectedResult": "a POST b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST']).method}} b",
		"expectedResult": "a POST b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT']).method}} b",
		"expectedResult": "a PUT b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'DELETE']).method}} b",
		"expectedResult": "a DELETE b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'TRACE']).method}} b",
		"expectedResult": "a TRACE b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'OPTIONS']).method}} b",
		"expectedResult": "a OPTIONS b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'OpTiOnS']).method}} b",
		"expectedResult": "a OPTIONS b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 123]).method}} b",
		"expectedResult": "a GET b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: true]).method}} b",
		"expectedResult": "a GET b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: false]).method}} b",
		"expectedResult": "a GET b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: []]).method}} b",
		"expectedResult": "a GET b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: null]).method}} b",
		"expectedResult": "a GET b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: undefined]).method}} b",
		"expectedResult": "a GET b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: uniqueId()]).isUndefined()}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'HEAD']).isUndefined()}} b",
		"expectedResult": "a true b"
	}]
}, {
	"name": "global.loadJSON (remote: handling urls)",
	"comment": "make sure that request path and query string are correctly passed to the server",
	"cases": [{
		"input": "a {{loadJSON('http://127.0.0.1:4442/').path}} b",
		"expectedResult": "a / b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news').path}} b",
		"expectedResult": "a /news b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/').path}} b",
		"expectedResult": "a /news/ b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?foo=bar').path}} b",
		"expectedResult": "a / b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/#fragment').path}} b",
		"expectedResult": "a / b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?foo=bar#fragment').path}} b",
		"expectedResult": "a / b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?foo=bar').path}} b",
		"expectedResult": "a / b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/#fragment').path}} b",
		"expectedResult": "a / b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?foo=bar#fragment').path}} b",
		"expectedResult": "a / b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news?foo=bar').path}} b",
		"expectedResult": "a /news b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news#fragment').path}} b",
		"expectedResult": "a /news b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news?foo=bar#fragment').path}} b",
		"expectedResult": "a /news b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/?foo=bar').path}} b",
		"expectedResult": "a /news/ b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/#fragment').path}} b",
		"expectedResult": "a /news/ b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/?foo=bar#fragment').path}} b",
		"expectedResult": "a /news/ b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/').query}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news').query}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/').query}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?foo=bar').query}} b",
		"expectedResult": "a foo=bar b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/#fragment').query}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?foo=bar#fragment').query}} b",
		"expectedResult": "a foo=bar b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?foo=bar').query}} b",
		"expectedResult": "a foo=bar b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/#fragment').query}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?foo=bar#fragment').query}} b",
		"expectedResult": "a foo=bar b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news?foo=bar').query}} b",
		"expectedResult": "a foo=bar b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news#fragment').query}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news?foo=bar#fragment').query}} b",
		"expectedResult": "a foo=bar b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/?foo=bar').query}} b",
		"expectedResult": "a foo=bar b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/#fragment').query}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/?foo=bar#fragment').query}} b",
		"expectedResult": "a foo=bar b"
	}]
}, {
	"name": "global.loadJSON (remote: handling urls + jsonp)",
	"comment": "make sure that request path and query string is correctly passed to the server when sending JSONP request",
	"cases": [{
		"input": "a {{loadJSON('http://127.0.0.1:4442/', true).path}} b",
		"expectedResult": "a / b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news', true).path}} b",
		"expectedResult": "a /news b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/', true).path}} b",
		"expectedResult": "a /news/ b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?foo=bar', true).path}} b",
		"expectedResult": "a / b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/#fragment', true).path}} b",
		"expectedResult": "a / b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?foo=bar#fragment', true).path}} b",
		"expectedResult": "a / b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?foo=bar', true).path}} b",
		"expectedResult": "a / b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/#fragment', true).path}} b",
		"expectedResult": "a / b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?foo=bar#fragment', true).path}} b",
		"expectedResult": "a / b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news?foo=bar', true).path}} b",
		"expectedResult": "a /news b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news#fragment', true).path}} b",
		"expectedResult": "a /news b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news?foo=bar#fragment', true).path}} b",
		"expectedResult": "a /news b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/?foo=bar', true).path}} b",
		"expectedResult": "a /news/ b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/#fragment', true).path}} b",
		"expectedResult": "a /news/ b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/?foo=bar#fragment', true).path}} b",
		"expectedResult": "a /news/ b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', true).query.test('^callback=.+$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news', true).query.test('^callback=.+$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/', true).query.test('^callback=.+$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?foo=bar', true).query.test('^foo=bar&callback=.+$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/#fragment', true).query.test('^callback=.+$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?foo=bar#fragment', true).query.test('^foo=bar&callback=.+$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?foo=bar', true).query.test('^foo=bar&callback=.+$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/#fragment', true).query.test('^callback=.+$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?foo=bar#fragment', true).query.test('^foo=bar&callback=.+$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news?foo=bar', true).query.test('^foo=bar&callback=.+$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news#fragment', true).query.test('^callback=.+$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news?foo=bar#fragment', true).query.test('^foo=bar&callback=.+$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/?foo=bar', true).query.test('^foo=bar&callback=.+$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/#fragment', true).query.test('^callback=.+$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/?foo=bar#fragment', true).query.test('^foo=bar&callback=.+$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?callback=foobar', true).query.test('^callback=foobar$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?callback=foobar#fragment', true).query.test('^callback=foobar$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?callback=foobar', true).query.test('^callback=foobar$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/?callback=foobar#fragment', true).query.test('^callback=foobar$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news?callback=foobar', true).query.test('^callback=foobar$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news?callback=foobar#fragment', true).query.test('^callback=foobar$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/?callback=foobar', true).query.test('^callback=foobar$')}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/news/?callback=foobar#fragment', true).query.test('^callback=foobar$')}} b",
		"expectedResult": "a true b"
	}]
}, {
	"name": "global.loadJSON (remote: GET HEAD DELETE TRACE OPTIONS, shouldn't pass request body)",
	"comment": "make sure that request data will only be passed to the server for PUT and POST request methods",
	"cases": [{
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [data: undefined]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [data: null]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [data: true]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [data: false]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [data: 123]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [data: 'my data']).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [data: ['my data']]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [data: [foo: 'my data']]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'GET', data: undefined]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'GET', data: null]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'GET', data: true]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'GET', data: false]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'GET', data: 123]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'GET', data: 'my data']).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'GET', data: ['my data']]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'GET', data: [foo: 'my data']]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'HEAD', data: undefined]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'HEAD', data: null]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'HEAD', data: true]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'HEAD', data: false]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'HEAD', data: 123]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'HEAD', data: 'my data']).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'HEAD', data: ['my data']]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'HEAD', data: [foo: 'my data']]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'DELETE', data: undefined]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'DELETE', data: null]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'DELETE', data: true]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'DELETE', data: false]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'DELETE', data: 123]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'DELETE', data: 'my data']).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'DELETE', data: ['my data']]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'DELETE', data: [foo: 'my data']]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'TRACE', data: undefined]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'TRACE', data: null]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'TRACE', data: true]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'TRACE', data: false]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'TRACE', data: 123]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'TRACE', data: 'my data']).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'TRACE', data: ['my data']]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'TRACE', data: [foo: 'my data']]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'OPTIONS', data: undefined]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'OPTIONS', data: null]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'OPTIONS', data: true]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'OPTIONS', data: false]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'OPTIONS', data: 123]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'OPTIONS', data: 'my data']).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'OPTIONS', data: ['my data']]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'OPTIONS', data: [foo: 'my data']]).body}} b",
		"expectedResult": "a  b"
	}]
}, {
	"name": "global.loadJSON (remote: custom request headers)",
	"comment": "make sure that request headers are passed correctly",
	"cases": [{
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [headers: ['Custom-Header': 'Custom-Value']]).headers['custom-header'] is 'Custom-Value'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var name = 'HEADER-' + uniqueId()}}{{var value = 'VALUE-' + uniqueId()}}{{loadJSON('http://127.0.0.1:4442/', [headers: [].set(name, value)]).headers[name.toLowerCase()] is value}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', headers: ['Custom-Header': 'Custom-Value']]).headers['custom-header'] is 'Custom-Value'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var name = 'HEADER-' + uniqueId()}}{{var value = 'VALUE-' + uniqueId()}}{{loadJSON('http://127.0.0.1:4442/', [method: 'POST', headers: [].set(name, value)]).headers[name.toLowerCase()] is value}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'DELETE', headers: ['Custom-Header': 'Custom-Value']]).headers['custom-header'] is 'Custom-Value'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var name = 'HEADER-' + uniqueId()}}{{var name = name.toLowerCase()}}{{var value = 'VALUE-' + uniqueId()}}{{loadJSON('http://127.0.0.1:4442/', [method: 'DELETE', headers: [].set(name, value)]).headers[name] is value}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [headers: ['Custom-Header': 111]]).headers['custom-header'] is '111'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [headers: ['Custom-Header': true]]).headers['custom-header'] is 'true'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [headers: ['Custom-Header': false]]).headers['custom-header'] is 'false'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [headers: ['Custom-Header': null]]).headers['custom-header'] is 'null'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [headers: ['Custom-Header': undefined]]).headers['custom-header'].isUndefined()}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [headers: ['Accept-Language': 'en']]).headers['accept-language'] is 'en'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [headers: ['Content-Language': 'en, ru']]).headers['content-language'] is 'en, ru'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [headers: ['From': 'admin@domain.com']]).headers['from'] is 'admin@domain.com'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [headers: ['X-Requested-With': 'XMLHttpRequest']]).headers['x-requested-with'] is 'XMLHttpRequest'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [headers: ['X-Requested-With': 111]]).headers['x-requested-with'] is '111'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [headers: ['X-Requested-With': true]]).headers['x-requested-with'] is 'true'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [headers: ['X-Requested-With': false]]).headers['x-requested-with'] is 'false'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [headers: ['X-Requested-With': null]]).headers['x-requested-with'] is 'null'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [headers: ['X-Requested-With': undefined]]).headers['x-requested-with'].isUndefined()}} b",
		"expectedResult": "a true b"
	}]
}, {
	"name": "global.loadJSON (remote: invalid request headers)",
	"comment": "make sure that those request headers won't reach the server",
	"cases": [{
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['content-Length': 123]])}}{{response.isMap() and response.headers['content-length'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['accept-charset': 123]])}}{{response.isMap() and response.headers['accept-charset'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['accept-encoding': 123]])}}{{response.isMap() and response.headers['accept-encoding'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['access-control-request-headers': 123]])}}{{response.isMap() and response.headers['access-control-request-headers'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['access-control-request-method': 123]])}}{{response.isMap() and response.headers['access-control-request-method'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['connection': 123]])}}{{response.isMap() and response.headers['connection'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['cookie': 123]])}}{{response.isMap() and response.headers['cookie'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['cookie2': 123]])}}{{response.isMap() and response.headers['cookie2'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['content-transfer-encoding': 123]])}}{{response.isMap() and response.headers['content-transfer-encoding'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['date': 123]])}}{{response.isMap() and response.headers['date'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['expect': 123]])}}{{response.isMap() and response.headers['expect'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['host': 123]])}}{{response.isMap() and response.headers['host'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['keep-alive': 123]])}}{{response.isMap() and response.headers['keep-alive'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['origin': 123]])}}{{response.isMap() and response.headers['origin'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['referer': 123]])}}{{response.isMap() and response.headers['referer'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['te': 123]])}}{{response.isMap() and response.headers['te'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['trailer': 123]])}}{{response.isMap() and response.headers['trailer'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['transfer-encoding': 123]])}}{{response.isMap() and response.headers['transfer-encoding'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['upgrade': 123]])}}{{response.isMap() and response.headers['upgrade'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['user-agent': 123]])}}{{response.isMap() and response.headers['user-agent'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['via': 123]])}}{{response.isMap() and response.headers['via'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['sec-': 123]])}}{{response.isMap() and response.headers['sec-'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var response = loadJSON('http://127.0.0.1:4442/', [headers: ['proxy-': 123]])}}{{response.isMap() and response.headers['proxy-'] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var header = 'sec-' + uniqueId()}}{{var response = loadJSON('http://127.0.0.1:4442/', [headers: [].set(header, 123)])}}{{response.isMap() and response.headers[header.toLowerCase()] isNot '123'}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{var header = 'proxy-' + uniqueId()}}{{var response = loadJSON('http://127.0.0.1:4442/', [headers: [].set(header, 123)])}}{{response.isMap() and response.headers[header.toLowerCase()] isNot '123'}} b",
		"expectedResult": "a true b"
	}]
}, {
	"name": "global.loadJSON (remote: POST, PUT + plain request body & controlling response body)",
	"comment": "make sure that the plain request data is correctly passed to the server",
	"cases": [{
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: undefined]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: undefined]).body}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: null]).body}} b",
		"expectedResult": "a null b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: null]).body}} b",
		"expectedResult": "a null b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: true]).body}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: true]).body}} b",
		"expectedResult": "a true b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: false]).body}} b",
		"expectedResult": "a false b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: false]).body}} b",
		"expectedResult": "a false b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: 123]).body}} b",
		"expectedResult": "a 123 b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: 123]).body}} b",
		"expectedResult": "a 123 b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: 'string']).body}} b",
		"expectedResult": "a string b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: 'string']).body}} b",
		"expectedResult": "a string b"
	}]
}, {
	"name": "global.loadJSON (remote: POST, PUT + map request body & controlling response body)",
	"comment": "make sure that the map request data is correctly passed to the server",
	"cases": [{
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: ['foo', 'bar']]).body}} b",
		"expectedResult": "a 0=foo&1=bar b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: ['foo', 'bar']]).body}} b",
		"expectedResult": "a 0=foo&1=bar b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: ['foo', 'bar bar']]).body}} b",
		"expectedResult": "a 0=foo&1=bar%20bar b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: ['foo', 'bar bar']]).body}} b",
		"expectedResult": "a 0=foo&1=bar%20bar b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: [foo: 'bar', bar: 'x y z']]).body}} b",
		"expectedResult": "a foo=bar&bar=x%20y%20z b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: [foo: 'bar', bar: 'x y z']]).body}} b",
		"expectedResult": "a foo=bar&bar=x%20y%20z b"
	}]
}, {
	"name": "global.loadJSON (remote: POST, PUT + plain request body & controlling response content-type)",
	"comment": "make sure that the plain request data is correctly passed to the server",
	"cases": [{
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: undefined]).headers['content-type']}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: undefined]).headers['content-type']}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: null]).headers['content-type']}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: null]).headers['content-type']}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: true]).headers['content-type']}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: true]).headers['content-type']}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: false]).headers['content-type']}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: false]).headers['content-type']}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: 123]).headers['content-type']}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: 123]).headers['content-type']}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: 'string']).headers['content-type']}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: 'string']).headers['content-type']}} b",
		"expectedResult": "a  b"
	}]
}, {
	"name": "global.loadJSON (remote: POST, PUT + plain request body & controlling response content-type)",
	"comment": "make sure that sending plain request data doesn't change content-header value",
	"cases": [{
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', headers: ['content-type': 'foo'], data: undefined]).headers['content-type']}} b",
		"expectedResult": "a foo b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', headers: ['content-type': 'foo'], data: undefined]).headers['content-type']}} b",
		"expectedResult": "a foo b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', headers: ['content-type': 'foo'], data: null]).headers['content-type']}} b",
		"expectedResult": "a foo b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', headers: ['content-type': 'foo'], data: null]).headers['content-type']}} b",
		"expectedResult": "a foo b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', headers: ['content-type': 'foo'], data: true]).headers['content-type']}} b",
		"expectedResult": "a foo b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', headers: ['content-type': 'foo'], data: true]).headers['content-type']}} b",
		"expectedResult": "a foo b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', headers: ['content-type': 'foo'], data: false]).headers['content-type']}} b",
		"expectedResult": "a foo b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', headers: ['content-type': 'foo'], data: false]).headers['content-type']}} b",
		"expectedResult": "a foo b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', headers: ['content-type': 'foo'], data: 123]).headers['content-type']}} b",
		"expectedResult": "a foo b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', headers: ['content-type': 'foo'], data: 123]).headers['content-type']}} b",
		"expectedResult": "a foo b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', headers: ['content-type': 'foo'], data: 'string']).headers['content-type']}} b",
		"expectedResult": "a foo b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', headers: ['content-type': 'foo'], data: 'string']).headers['content-type']}} b",
		"expectedResult": "a foo b"
	}]
}, {
	"name": "global.loadJSON (remote: POST, PUT + map request body & controlling response content-type)",
	"comment": "make sure that sending map request body switches the content-type request header value to application/x-www-form-urlencoded",
	"cases": [{
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: ['foo', 'bar']]).headers['content-type']}} b",
		"expectedResult": "a application/x-www-form-urlencoded b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: ['foo', 'bar']]).headers['content-type']}} b",
		"expectedResult": "a application/x-www-form-urlencoded b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: ['foo', 'bar bar']]).headers['content-type']}} b",
		"expectedResult": "a application/x-www-form-urlencoded b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: ['foo', 'bar bar']]).headers['content-type']}} b",
		"expectedResult": "a application/x-www-form-urlencoded b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', data: [foo: 'bar', bar: 'x y z']]).headers['content-type']}} b",
		"expectedResult": "a application/x-www-form-urlencoded b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', data: [foo: 'bar', bar: 'x y z']]).headers['content-type']}} b",
		"expectedResult": "a application/x-www-form-urlencoded b"
	}]
}, {
	"name": "global.loadJSON (remote: POST, PUT + map request body & controlling response content-type)",
	"comment": "make sure that sending map request body overwrited content-type header value to application/x-www-form-urlencoded",
	"cases": [{
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', headers: ['content-type': 'foo'], data: ['foo', 'bar']]).headers['content-type']}} b",
		"expectedResult": "a application/x-www-form-urlencoded b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', headers: ['content-type': 'foo'], data: ['foo', 'bar']]).headers['content-type']}} b",
		"expectedResult": "a application/x-www-form-urlencoded b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', headers: ['content-type': 'foo'], data: ['foo', 'bar bar']]).headers['content-type']}} b",
		"expectedResult": "a application/x-www-form-urlencoded b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', headers: ['content-type': 'foo'], data: ['foo', 'bar bar']]).headers['content-type']}} b",
		"expectedResult": "a application/x-www-form-urlencoded b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'POST', headers: ['content-type': 'foo'], data: [foo: 'bar', bar: 'x y z']]).headers['content-type']}} b",
		"expectedResult": "a application/x-www-form-urlencoded b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/', [method: 'PUT', headers: ['content-type': 'foo'], data: [foo: 'bar', bar: 'x y z']]).headers['content-type']}} b",
		"expectedResult": "a application/x-www-form-urlencoded b"
	}]
}, {
	"name": "global.loadJSON (remote: follow redirects)",
	"comment": "make sure that we follow redirects if the response code is > 300 and < 400",
	"cases": [{
		"input": "a {{for method in ['', 'GET', 'POST', 'PUT', 'DELETE', 'TRACE', 'OPTIONS', 'PATCH']}}{{loadJSON('http://127.0.0.1:4442/redirect:200', [method: method]).path}}{{/for}} b",
		"expectedResult": "a /redirect:200/redirect:200/redirect:200/redirect:200/redirect:200/redirect:200/redirect:200/redirect:200 b"
	}, {
		"input": "a {{for method in ['', 'GET', 'POST', 'PUT', 'DELETE', 'TRACE', 'OPTIONS', 'PATCH']}}{{loadJSON('http://127.0.0.1:4442/redirect:300', [method: method]).path}}{{/for}} b",
		"expectedResult": "a /redirect:300/redirect:300/redirect:300/redirect:300/redirect:300/redirect:300/redirect:300/redirect:300 b"
	}, {
		"input": "a {{for method in ['', 'GET', 'POST', 'PUT', 'DELETE', 'TRACE', 'OPTIONS', 'PATCH']}}{{for code in range(301, 399)}}{{loadJSON('http://127.0.0.1:4442/redirect:' + code, [method: method]).path isNot '/' ? 'NOT'}}{{/for}}{{/for}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{for method in ['', 'GET', 'POST', 'PUT', 'DELETE', 'TRACE', 'OPTIONS', 'PATCH']}}{{loadJSON('http://127.0.0.1:4442/redirect:400', [method: method]).path}}{{/for}} b",
		"expectedResult": "a /redirect:400/redirect:400/redirect:400/redirect:400/redirect:400/redirect:400/redirect:400/redirect:400 b"
	}, {
		"input": "a {{for method in ['', 'GET', 'POST', 'PUT', 'DELETE', 'TRACE', 'OPTIONS', 'PATCH']}}{{loadJSON('http://127.0.0.1:4442/redirect:200?foo=bar', [method: method]).path}}{{/for}} b",
		"expectedResult": "a /redirect:200/redirect:200/redirect:200/redirect:200/redirect:200/redirect:200/redirect:200/redirect:200 b"
	}, {
		"input": "a {{for method in ['', 'GET', 'POST', 'PUT', 'DELETE', 'TRACE', 'OPTIONS', 'PATCH']}}{{loadJSON('http://127.0.0.1:4442/redirect:300?foo=bar#fragment', [method: method]).path}}{{/for}} b",
		"expectedResult": "a /redirect:300/redirect:300/redirect:300/redirect:300/redirect:300/redirect:300/redirect:300/redirect:300 b"
	}, {
		"input": "a {{for method in ['', 'GET', 'POST', 'PUT', 'DELETE', 'TRACE', 'OPTIONS', 'PATCH']}}{{loadJSON('http://127.0.0.1:4442/redirect:320?foo=bar#fragment', [method: method]).path}}{{/for}} b",
		"expectedResult": "a //////// b"
	}, {
		"input": "a {{for method in ['', 'GET', 'POST', 'PUT', 'DELETE', 'TRACE', 'OPTIONS', 'PATCH']}}{{loadJSON('http://127.0.0.1:4442/redirect:400#fragment', [method: method]).path}}{{/for}} b",
		"expectedResult": "a /redirect:400/redirect:400/redirect:400/redirect:400/redirect:400/redirect:400/redirect:400/redirect:400 b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/redirect:200', [method: 'HEAD']).path}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/redirect:320', [method: 'HEAD']).path}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/redirect:430', [method: 'HEAD']).path}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/redirect:200', [method: uniqueId()]).path}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/redirect:320', [method: uniqueId()]).path}} b",
		"expectedResult": "a  b"
	}, {
		"input": "a {{loadJSON('http://127.0.0.1:4442/redirect:430', [method: uniqueId()]).path}} b",
		"expectedResult": "a  b"
	}]
}]